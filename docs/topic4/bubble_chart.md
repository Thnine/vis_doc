# 社群节点迁移气泡图可视设计方法

本组件主要用于呈现不同类别中节点数量的变化情况。

组件结构

**Demo**：http://localhost:8080/

## 输入数据

- 描述：需要观察类型中节点数量变化情况的数据。
- 类型：`Array`，需要满足json格式。

每条数据中需要包含以下内容：

1. node：是某个ip地址，例如192.168.1.1，是string类型。
2. time：时间。string类型，格式为“2023-10-06 11:00”。
3. type：种类名词，string类型。

## 如何使用

### 启动

```c
// component来自BubbleChartView.vue
component.drawBubbleChart(data)
```

### 交互

在该组件上，存在以下交互：

- **类别选择**：在视图最左侧会垂直显示所有类别，并配以不同颜色的方块。选择某个类别，会展示相对于该类别其他类别的迁入迁出情况和其数量变化的绝对值。

## 外部接口

### 发送

暂无接口

**接收**

暂无接口

## 使用示例

```c
[
   { node: "192.168.1.1", time: "2020-19-20 10:00", type: "1" },
   { node: "192.168.1.2", time: "2020-19-20 10:00", type: "2" },
   { node: "192.168.1.3", time: "2020-19-20 10:00", type: "1" },
   { node: "192.168.1.4", time: "2020-19-20 10:00", type: "4" },
   { node: "192.168.1.5", time: "2020-19-20 10:00", type: "5" },

   { node: "192.168.1.1", time: "2020-19-20 11:00", type: "1" },
   { node: "192.168.1.2", time: "2020-19-20 11:00", type: "1" },
   { node: "192.168.1.3", time: "2020-19-20 11:00", type: "2" },
   { node: "192.168.1.4", time: "2020-19-20 11:00", type: "5" },
   { node: "192.168.1.5", time: "2020-19-20 11:00", type: "4" },

   { node: "192.168.1.1", time: "2020-19-20 12:00", type: "5" },
   { node: "192.168.1.2", time: "2020-19-20 12:00", type: "4" },
   { node: "192.168.1.3", time: "2020-19-20 12:00", type: "3" },
   { node: "192.168.1.4", time: "2020-19-20 12:00", type: "2" },
   { node: "192.168.1.5", time: "2020-19-20 12:00", type: "1" },

    { node: "192.168.1.1", time: "2020-19-20 13:00", type: "5" },
    { node: "192.168.1.2", time: "2020-19-20 13:00", type: "5" },
    { node: "192.168.1.3", time: "2020-19-20 13:00", type: "5" },
    { node: "192.168.1.4", time: "2020-19-20 13:00", type: "2" },
    { node: "192.168.1.5", time: "2020-19-20 13:00", type: "2" },

    { node: "192.168.1.1", time: "2020-19-20 14:00", type: "3" },
    { node: "192.168.1.2", time: "2020-19-20 14:00", type: "2" },
    { node: "192.168.1.3", time: "2020-19-20 14:00", type: "1" },
    { node: "192.168.1.4", time: "2020-19-20 14:00", type: "4" },
    { node: "192.168.1.5", time: "2020-19-20 14:00", type: "5" },

    { node: "192.168.1.1", time: "2020-19-20 15:00", type: "4" },
    { node: "192.168.1.2", time: "2020-19-20 15:00", type: "4" },
    { node: "192.168.1.3", time: "2020-19-20 15:00", type: "3" },
    { node: "192.168.1.4", time: "2020-19-20 15:00", type: "5" },
    { node: "192.168.1.5", time: "2020-19-20 15:00", type: "1" },

    { node: "192.168.1.1", time: "2020-19-20 16:00", type: "5" },
    { node: "192.168.1.2", time: "2020-19-20 16:00", type: "1" },
    { node: "192.168.1.3", time: "2020-19-20 16:00", type: "2" },
    { node: "192.168.1.4", time: "2020-19-20 16:00", type: "4" },
    { node: "192.168.1.5", time: "2020-19-20 16:00", type: "5" },

    { node: "192.168.1.1", time: "2020-19-20 17:00", type: "4" },
    { node: "192.168.1.2", time: "2020-19-20 17:00", type: "3" },
    { node: "192.168.1.3", time: "2020-19-20 17:00", type: "2" },
    { node: "192.168.1.4", time: "2020-19-20 17:00", type: "2" },
    { node: "192.168.1.5", time: "2020-19-20 17:00", type: "4" },

    { node: "192.168.1.1", time: "2020-19-20 18:00", type: "2" },
    { node: "192.168.1.2", time: "2020-19-20 18:00", type: "5" },
    { node: "192.168.1.3", time: "2020-19-20 18:00", type: "4" },
    { node: "192.168.1.4", time: "2020-19-20 18:00", type: "1" },
    { node: "192.168.1.5", time: "2020-19-20 18:00", type: "3" },

    { node: "192.168.1.1", time: "2020-19-20 19:00", type: "1" },
    { node: "192.168.1.2", time: "2020-19-20 19:00", type: "2" },
    { node: "192.168.1.3", time: "2020-19-20 19:00", type: "3" },
    { node: "192.168.1.4", time: "2020-19-20 19:00", type: "4" },
    { node: "192.168.1.5", time: "2020-19-20 19:00", type: "5" },

    { node: "192.168.1.1", time: "2020-19-20 20:00", type: "1" },
    { node: "192.168.1.2", time: "2020-19-20 20:00", type: "2" },
    { node: "192.168.1.3", time: "2020-19-20 20:00", type: "3" },
    { node: "192.168.1.4", time: "2020-19-20 20:00", type: "4" },
    { node: "192.168.1.5", time: "2020-19-20 20:00", type: "5" },

    { node: "192.168.1.1", time: "2020-19-20 21:00", type: "1" },
    { node: "192.168.1.2", time: "2020-19-20 21:00", type: "2" },
    { node: "192.168.1.3", time: "2020-19-20 21:00", type: "3" },
    { node: "192.168.1.4", time: "2020-19-20 21:00", type: "4" },
    { node: "192.168.1.5", time: "2020-19-20 21:00", type: "5" }
]
```

然后开始绘图：

```c
const component = this.$ref['BubbleChartView'] //这里的component指的是组件BubbleChartView.vue的vue实例，采取合理的方法获取即可
component.drawBubbleChart(data)
```

绘图效果如下所示：

![image](https://drive.google.com/uc?export=view&id=10H_brJGtmVVhEmvlA_SujB0tKqElQBt6)

## 引用

[1] Jiazhi Xia, Yuhong Zhang, Hui Ye, et al. SuPoolVisor: a visual analytics system for mining pool surveillance.[J]. Frontiers of Information Technology & Electronic Engineering, 2020, 21(4):507-523, https://doi.org/10.1631/FITEE.1900532.